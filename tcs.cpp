#include <cstdio>
struct stu
{
	char map[10][10];
	int x,y;
};
int main()
{
	stu _1_.map[10][10]={"  ###     ",
	        	   	  	 "  #@#     ",
			   			 "  # ####  ",
			   		  	 "###% %@#  ",
			   		  	 "#@ %o###  ",
			  		  	 "####%#    ",
			  		  	 "   #@#    ",
			  		  	 "   ###    "};
	stu _2_.map[10][10]={"#####    ",
					"#   #    ",
					"# % # ###",
					"# %o# #@#",
					"###%###@#",
					"##     @#",
					"#    #  #",
					"#    ####",
					"######   "};
	int b=1,c=1,d=1,e=1,f=1,g;//b循环变量；c，d头部位置；e关卡；g输入变量
	c=4;d=4;//位置初始化 
	while(1)
	{
		for(b=0;b<=7;b+=1)
		{
			printf("%s\n",_1_[b]);
		}
		scanf("%d",&g);
		if(g==4)
		{
			if(_1_[c][d-1]!='#')
			{
				if(_1_[c][d-1]=='%')
				{
					if(_1_[c][d-2]!='#')
					{
						if(_1_[c][d-2]=='@')
						{
							_1_[c][d]=' ';
							d--;
							_1_[c][d]='o';
							_1_[c][d-1]='$';
						}
						else
						{
							_1_[c][d]=' ';
							d--;
							_1_[c][d]='o';
							_1_[c][d-1]='%';
						}
					}
				}
				else
				{
					_1_[c][d]=' ';
					d--;
					_1_[c][d]='o';
				}
			}
		}
		if(g==6)
		{
			if(_1_[c][d+1]!='#')
			{
				if(_1_[c][d+1]=='%')
				{
					if(_1_[c][d+2]!='#')
					{
						if(_1_[c][d+2]=='@')
						{
							_1_[c][d]=' ';
							d++;
							_1_[c][d]='o';
							_1_[c][d+1]='$';
						}
						else
						{
							_1_[c][d]=' ';
							d++;
							_1_[c][d]='o';
							_1_[c][d+1]='%';
						}
					}
				}
				else
				{
					_1_[c][d]=' ';
					d++;
					_1_[c][d]='o';
				}
			}
		}
		if(g==8)
		{
			if(_1_[c-1][d]!='#')
			{
				if(_1_[c-1][d]=='%')
				{
					if(_1_[c-2][d]!='#')
					{
						if(_1_[c-2][d]=='@')
						{
							_1_[c][d]=' ';
							c--;
							_1_[c][d]='o';
							_1_[c-1][d]='$';
						}
						else
						{
							_1_[c][d]=' ';
							c--;
							_1_[c][d]='o';
							_1_[c-1][d]='%';
						}
					}
				}
				else
				{
					_1_[c][d]=' ';
					c--;
					_1_[c][d]='o';
				}
			}
		}
		if(g==5)
		{
			if(_1_[c+1][d]!='#')
			{
				if(_1_[c+1][d]=='%')
				{
					if(_1_[c+2][d]!='#')
					{
						if(_1_[c+2][d]=='@')
						{
							_1_[c][d]=' ';
							c++;
							_1_[c][d]='o';
							_1_[c+1][d]='$';
						}
						else
						{
							_1_[c][d]=' ';
							c++;
							_1_[c][d]='o';
							_1_[c+1][d]='%';
						}
					}
				}
				else
				{
					_1_[c][d]=' ';
					c++;
					_1_[c][d]='o';
				}
			}
		}
	}
	return 0;
}
